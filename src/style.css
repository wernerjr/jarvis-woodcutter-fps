:root{
  color-scheme: dark;
  --bg: #0a0f0a;
  --fg: #e7f0e7;
  --muted: rgba(231,240,231,0.72);
  --card: rgba(10, 18, 10, 0.86);
  --stroke: rgba(231,240,231,0.10);
  --accent: #9ff5a8;
}
html,body{height:100%; margin:0; background:var(--bg); overflow:hidden; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;}
#game{position:fixed; inset:0; width:100%; height:100%; display:block; outline:none;}

/* UI root */
#ui{position:fixed; inset:0; pointer-events:none; color:var(--fg);}

/* HUD */
#hud{position:fixed; inset:0;}
#title{position:fixed; top:14px; left:16px; font-weight:700; letter-spacing:.2px; text-shadow:0 2px 12px rgba(0,0,0,.6)}
#stats{position:fixed; top:14px; right:16px; font-weight:600; font-size:14px; text-shadow:0 2px 12px rgba(0,0,0,.6)}

#timeHud{position:fixed; top:12px; left:50%; transform: translateX(-50%); width:min(520px, calc(100vw - 32px)); pointer-events:none;}
#timeRow{display:flex; align-items:center; justify-content:space-between; gap:10px; color:var(--muted); font-size:12px; text-shadow:0 2px 12px rgba(0,0,0,.6)}
#clock{font-variant-numeric: tabular-nums; color:var(--fg); font-weight:700; letter-spacing:0.3px;}
#timeIcons{display:flex; align-items:center; gap:8px;}
#icoSun,#icoMoon{opacity:0.55; filter: drop-shadow(0 2px 10px rgba(0,0,0,.45)); transition: opacity .15s ease, transform .15s ease;}
#icoSun.active,#icoMoon.active{opacity:1; transform: translateY(-1px) scale(1.04)}
#timeBar{margin-top:6px; height:8px; border-radius:999px; border:1px solid var(--stroke);
  background: linear-gradient(90deg,
    rgba(25,35,60,0.55) 0%,
    rgba(18,24,44,0.55) 18%,
    rgba(75,120,190,0.40) 30%,
    rgba(120,180,255,0.35) 50%,
    rgba(255,170,120,0.30) 70%,
    rgba(18,24,44,0.55) 82%,
    rgba(25,35,60,0.55) 100%
  );
}
#timeMarker{width:12px; height:12px; border-radius:999px; margin-top:-3px; background: rgba(231,240,231,0.85); border:1px solid rgba(0,0,0,0.25); box-shadow:0 6px 18px rgba(0,0,0,.35); transform: translateX(0px)}
#toast{position:fixed; top:46px; left:16px; font-size:12px; color:var(--muted); opacity:0; transform: translateY(-4px); transition: opacity .15s ease, transform .15s ease; text-shadow:0 2px 12px rgba(0,0,0,.6)}

#floaters{position:fixed; inset:0; pointer-events:none;}
.dmg{position:absolute; left:0; top:0; padding:2px 6px; border-radius:10px; font-size:14px; font-weight:800; letter-spacing:0.2px; color: rgba(255,215,140,0.98); text-shadow: 0 2px 12px rgba(0,0,0,0.75); background: rgba(0,0,0,0.10); border: 1px solid rgba(255,200,120,0.12);}

.perf{position:fixed; top:64px; left:16px; font-size:12px; color:var(--fg); background: rgba(10,18,10,0.55); border:1px solid var(--stroke); border-radius:12px; padding:8px 10px; width:160px; text-shadow:0 2px 12px rgba(0,0,0,.6)}
.perf.hidden{display:none;}
#toast.show{opacity:1; transform: translateY(0px)}
#reticle{position:fixed; left:50%; top:50%; width:10px; height:10px; margin-left:-5px; margin-top:-5px; border:1px solid rgba(231,240,231,0.9); border-radius:50%; box-shadow:0 0 0 2px rgba(0,0,0,.25);}

#hotbar{position:fixed; left:50%; bottom:14px; transform: translateX(-50%); display:flex; gap:10px; pointer-events:none;}
.hotSlot{pointer-events:auto; border:1px solid var(--stroke); border-radius:12px; padding:8px 10px; background: rgba(10,18,10,0.55); color:var(--muted); font-size:12px; min-width:72px; display:flex; align-items:center; justify-content:center; gap:10px; text-align:center; text-shadow:0 2px 12px rgba(0,0,0,.6)}
.hotSlot .ico{font-size:20px; line-height:1; color:var(--fg)}
.hotSlot.drop{border-color: rgba(159,245,168,0.55); background: rgba(159,245,168,0.10)}
.hotSlot .k{display:inline-block; min-width:14px; padding:1px 6px; border:1px solid rgba(231,240,231,0.10); border-radius:10px; margin-right:6px; color:var(--fg); background: rgba(255,255,255,0.04)}
.hotSlot.active{border-color: rgba(159,245,168,0.45); background: rgba(159,245,168,0.12); color: var(--fg); transform: translateY(-1px);}

/* Overlays */
.overlay{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; padding:24px; background: radial-gradient(1000px 600px at 50% 40%, rgba(10,18,10,0.72), rgba(0,0,0,0.80)); pointer-events:auto;}
.overlay.hidden{display:none;}
.card{width:min(520px, calc(100vw - 48px)); background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:18px 18px 16px; box-shadow: 0 18px 70px rgba(0,0,0,.55); backdrop-filter: blur(8px);}
.card h1{margin:0 0 6px; font-size:22px; letter-spacing:.2px;}
.card h2{margin:0 0 10px; font-size:18px;}
.muted{margin:6px 0 12px; color:var(--muted); line-height:1.4}
.small{font-size:12px;}
.buttons{display:grid; grid-template-columns: 1fr; gap:10px; margin-top:10px;}
button{appearance:none; border:1px solid var(--stroke); background: rgba(255,255,255,0.05); color:var(--fg); padding:10px 12px; border-radius:12px; font-weight:650; cursor:pointer;}
button:hover{border-color: rgba(159,245,168,0.35); background: rgba(255,255,255,0.08)}
button.primary{border-color: rgba(159,245,168,0.35); background: rgba(159,245,168,0.10)}
.controlsList{margin:10px 0 0 18px; color:var(--muted)}

.craftList{display:grid; grid-template-columns: 1fr; gap:10px; margin-top:10px;}
.craftRow{border:1px solid var(--stroke); border-radius:12px; padding:10px; background: rgba(255,255,255,0.04)}
.craftTop{display:flex; align-items:center; justify-content:space-between; gap:10px;}
.craftName{font-weight:800;}
.craftReq{margin-top:6px; color:var(--muted); font-size:12px;}
.craftRow button{pointer-events:auto;}

.invGrid{display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; margin-top:10px;}
.invSlot{border:1px solid var(--stroke); border-radius:12px; padding:10px; min-height:58px; background: rgba(255,255,255,0.04)}
.invSlot.invEmpty{background: rgba(255,255,255,0.02);}
.invSlot.draggable{cursor: grab;}
.invSlot.draggable:active{cursor: grabbing;}
.invTop{display:flex; align-items:center; gap:8px;}
.invIcon{font-size:18px; line-height:1}
.invName{font-weight:700; font-size:12px;}
.invQty{margin-top:6px; font-variant-numeric: tabular-nums; color:var(--muted); font-size:12px}
.invEmpty{opacity:0.55}

/* Hide HUD on menu */
body.state-menu #reticle{display:none;}
body.state-menu #toast{display:none;}
body.state-menu #hud{opacity:0.95;}
body.state-menu #stats{opacity:0.85;}

body.state-menu #hud{display:none;}
